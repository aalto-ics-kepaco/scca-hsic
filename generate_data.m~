function [X,Y] = generate_data(n,p,q,numx,type)

% generate simulated relations
%--------------------------------------------------------------------------
% input
% n         sample size (number of observations)
% p         dimension of X (number of variables)
% q         dimension of Y (number of variables)
% numx      number of related variables in the X view
% type      type of relation:   1 linear
%                                                  


X = zeros(n,p);
for i = 1:p
    X(:,i) = rand([n,1]);
end

Y = zeros(n,q);
for j = 1:q
    Y(:,j) = rand([n,1]);
end

xvar = zeros(size(X,1),1);
if numx >= 2
    for k = 2:numx
        xvar = xvar + X(:,k);
    end
end

switch type
    case 1
        Y(:,1) = (X(:,1) + xvar) - Y(:,2) + normrnd(0,0.05,[n,1]);
    case 2
        Y(:,1) = (X(:,1) + xvar).^2 - Y(:,2) + normrnd(0,0.05,[n,1]);
    case 3
        Y(:,1) = (X(:,1) + xvar).^3 - Y(:,2) + normrnd(0,0.05,[n,1]);
    case 4
        Y(:,1) = exp(X(:,1) + xvar) - Y(:,2) + normrnd(0,0.05,[n,1]);
    case 5
        Y(:,1) = log(X(:,1) + xvar) - Y(:,2) + normrnd(0,0.05,[n,1]);
    case 6
        Y(:,1) = sin(X(:,1) + xvar) - Y(:,2) + normrnd(0,0.05,[n,1]);
end






end
